"use strict";(self.webpackChunkmanulife_js=self.webpackChunkmanulife_js||[]).push([[318],{4983:function(e,t,n){n(2791);t.Z=n.p+"static/media/edit-green.0fd450b84de3275b3cedf608ad371124.svg"},4634:function(e,t,n){n(2791);t.Z=n.p+"static/media/plus.1d74c095c9a38f30393107ba102ce6ee.svg"},784:function(e,t,n){n.d(t,{Z:function(){return c}});n(2791);var a=n(9434),i=n(2862),r=n(7083),s=n(9968),l=n(184);function c(e){var t=e.isVisible,n=e.setIsVisible,c=e.title,o=e.width,u=void 0===o?600:o,d=e.content,m=(0,a.v9)((function(e){return e.loading})).loading;return(0,l.jsx)(i.Z,{className:"modal-custom",title:c,centered:!0,open:t,width:u,footer:null,onCancel:function(){return n(!1)},children:(0,l.jsx)(r.Z,{spinning:m===s.c9.pending,children:d})})}},8665:function(e,t,n){n.d(t,{Z:function(){return s}});n(2791);var a=n(9221),i=n(9968),r=n(184);function s(e){var t=e.pageSizeOptions,n=void 0===t?i.TJ:t,s=e.pageSize,l=void 0===s?i.Cg:s,c=e.total,o=e.showSizeChanger,u=void 0===o||o,d=e.setPaginate,m=function(e,t){d({limit:t,offset:e})};return c>i.Cg&&(0,r.jsx)(a.Z,{onChange:m,onShowSizeChange:m,defaultPageSize:l,total:c,pageSizeOptions:n,showSizeChanger:u})}},8840:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(1413),i=(n(2791),n(8565)),r=n(9434),s=n(9968),l=n(184);function c(e){var t=(0,r.v9)((function(e){return e.loading})),n=e.dataSource,c=e.columnTable,o=e.pagination,u=void 0!==o&&o,d=e.isSelection,m=void 0!==d&&d,h=e.bordered,p=void 0!==h&&h,f=e.setSelectedRowKeys,g=(e.isScroll,{onChange:function(e,t){f(t)}});return(0,l.jsx)(i.Z,(0,a.Z)((0,a.Z)({},e),{},{loading:t.loading===s.c9.pending,rowSelection:m?g:void 0,dataSource:n,columns:c,pagination:u,bordered:p,className:"table-common",rowKey:"id",children:e.children}))}},8717:function(e,t,n){var a=n(2791),i=n(9434),r=n(9968);t.Z=function(e){var t=(0,i.v9)((function(e){return e.loading})),n=t.loading,s=t.errors;(0,a.useEffect)((function(){if(n===r.c9.failed&&s.length>0){var t=[];s.map((function(e){return t.push({name:e.field,errors:[e.message]})})),e.setFields(t)}}),[s])}},7318:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var a=n(1413),i=n(9439),r=n(2791),s=n(9434),l=n(7309),c=n(4634),o=n(4983),u=n(6058),d=n(8840),m=n(8665),h=n(784),p=n(1095),f=n(7462),g=n(1002),x=n(1694),Z=n.n(x),j=n(5501),v=n(1818),b=n(1929),N=n(3734),y=n(1113),S=N.Z.Option;function I(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}var C=function(e,t){var n,a=e.prefixCls,s=e.className,l=e.popupClassName,c=e.dropdownClassName,o=e.children,u=e.dataSource,d=(0,j.Z)(o);if(1===d.length&&(0,y.l$)(d[0])&&!I(d[0])){var m=(0,i.Z)(d,1);n=m[0]}var h,p=n?function(){return n}:void 0;return h=d.length&&I(d[0])?o:u?u.map((function(e){if((0,y.l$)(e))return e;switch((0,g.Z)(e)){case"string":return r.createElement(S,{key:e,value:e},e);case"object":var t=e.value;return r.createElement(S,{key:t,value:t},e.text);default:return}})):[],r.createElement(b.C,null,(function(n){var i=(0,n.getPrefixCls)("select",a);return r.createElement(N.Z,(0,f.Z)({ref:t},(0,v.Z)(e,["dataSource"]),{prefixCls:i,dropdownClassName:l||c,className:Z()("".concat(i,"-auto-complete"),s),mode:N.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:p}),h)}))},D=r.forwardRef(C);D.Option=S;var w=D,M=n(6106),O=n(914),T=n(9389),Y=n(1666),k=n(2426),E=n.n(k),V=n(5739),_=n(3168),z=n(8717),q=n(184);var F=function(e){var t,n,c=(0,_.$)().t,o=p.Z.useForm(),u=(0,i.Z)(o,1)[0];(0,z.Z)(u);var d=e.setVisibleModal,m=e.dataEdit,h=(0,s.v9)((function(e){return e.contractManagement.custom})),f=(0,s.I0)();(0,r.useEffect)((function(){f((0,V.ti)({name:"",limit:10,offset:0}))}),[]);var g=w.Option;return(0,r.useEffect)((function(){Object.keys(m).length>0?u.setFieldsValue((0,a.Z)((0,a.Z)({},m),{date:E()(m.date)})):u.resetFields()}),[m]),(0,q.jsx)(p.Z,{layout:"vertical",initialValues:{remember:!0},form:u,onFinish:function(e){var t={contractNumber:e.contractNumber,customerId:+id,solutionId:+id,beneficiary:e.beneficiary,value:+e.value,startDate:E()(e.startDate._d).format(),duration:+e.duration,depositTerm:+e.depositTerm};Object.keys(m).length>0?f((0,V.pS)({id:m.id,data:t})):f((0,V.OP)(t))},autoComplete:"off",children:(0,q.jsxs)(M.Z,{gutter:[6,13],children:[(0,q.jsx)(O.Z,{span:6,children:(0,q.jsx)(p.Z.Item,{label:"M\xe3 s\u1ed1",name:"contractNumber",rules:[{required:!0}],children:(0,q.jsx)(T.Z,{placeholder:"Nh\u1eadp",type:"number",className:"input-item-outline"})})}),(0,q.jsx)(O.Z,{span:6,children:(0,q.jsx)(p.Z.Item,{label:"T\xean ng\u01b0\u1eddi mua",name:"customerName",rules:[{required:!0}],children:(0,q.jsx)(w,{onSearch:function(e){f((0,V.ti)({name:e,limit:10,offset:0}))},dropdownMatchSelectWidth:400,placeholder:"Nh\u1eadp",className:"select-item-outline",children:h.map((function(e){return(0,q.jsx)(g,{value:e.fullname,children:(0,q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,q.jsx)("span",{children:e.fullname}),(0,q.jsxs)("span",{children:["ID: ",e.customerId]})]})},e.customerId)}))})})}),(0,q.jsx)(O.Z,{span:6,children:(0,q.jsx)(p.Z.Item,{label:"T\xean ng\u01b0\u1eddi h\u01b0\u1edfng",name:"beneficiary",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y."}],children:(0,q.jsx)(T.Z,{placeholder:"Nh\u1eadp",className:"input-item-outline"})})}),(0,q.jsx)(O.Z,{span:6,children:(0,q.jsx)(p.Z.Item,{label:"Gi\xe1 tr\u1ecb",name:"value",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y."}],children:(0,q.jsx)(T.Z,{placeholder:"Nh\u1eadp",type:"number",className:"input-item-outline"})})}),(0,q.jsx)(O.Z,{span:6,children:null!==(t=e.data)&&void 0!==t&&t.createdAt?(0,q.jsx)(p.Z.Item,{label:"Ng\xe0y hi\u1ec7u l\u1ef1c",name:"startDate",initialValue:E()(null===(n=e.data)||void 0===n?void 0:n.createdAt)||"DD/MM/YYYY",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y."}],children:(0,q.jsx)(Y.Z,{format:"DD/MM/YYYY",className:"input-item-outline"})}):(0,q.jsx)(p.Z.Item,{label:"Ng\xe0y hi\u1ec7u l\u1ef1c",name:"startDate",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y."}],children:(0,q.jsx)(Y.Z,{placeholder:"DD/MM/YYYY",format:"DD/MM/YYYY",className:"input-item-outline"})})}),(0,q.jsx)(O.Z,{span:6,children:(0,q.jsx)(p.Z.Item,{label:"S\u1ed1 n\u0103m n\u1ed9p ph\xed",name:"duration",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y."}],children:(0,q.jsx)(T.Z,{placeholder:"Nh\u1eadp",className:"input-item-outline"})})}),(0,q.jsx)(O.Z,{span:6,children:(0,q.jsx)(p.Z.Item,{label:"Chu k\u1ef3 n\u1ed9p ph\xed",name:"depositTerm",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp tr\u01b0\u1eddng n\xe0y."}],children:(0,q.jsxs)(N.Z,{className:"select-item-outline",placeholder:"Ch\u1ecdn",children:[(0,q.jsx)(g,{value:"30",children:"Th\xe1ng"}),(0,q.jsx)(g,{value:"180",children:"N\u1eeda n\u0103m"}),(0,q.jsx)(g,{value:"360",children:"N\u0103m"})]})})}),(0,q.jsx)(O.Z,{span:24,children:(0,q.jsxs)(p.Z.Item,{className:"footer-modal",children:[(0,q.jsx)(l.Z,{className:"btn-danger",onClick:function(){return d(!1)},children:c("common.cancel")},"back"),(0,q.jsx)(l.Z,{className:"btn-primary",htmlType:"submit",type:"primary",children:Object.keys(m).length>0?c("common.save"):c("common.create")},"submit")]})})]})})},P=n(9968);function G(){var e=(0,s.I0)(),t=(0,s.v9)((function(e){return e.contractManagement})),n=t.data,p=t.totalItem,f=(0,r.useState)(!1),g=(0,i.Z)(f,2),x=g[0],Z=g[1],j=(0,r.useState)(null),v=(0,i.Z)(j,2),b=v[0],N=v[1],y=(0,r.useState)(""),S=(0,i.Z)(y,2),I=S[0],C=S[1],D=(0,r.useState)({limit:P.Cg,offset:1}),w=(0,i.Z)(D,2),M=w[0],O=w[1],T=(0,r.useState)(""),Y=(0,i.Z)(T,2),k=Y[0],E=Y[1],_=[{title:"M\xe3 s\u1ed1",dataIndex:"contractNumber",className:"id-contract"},{title:"Ng\u01b0\u1eddi mua",dataIndex:"insured"},{title:"Ng\u01b0\u1eddi h\u01b0\u1edfng",dataIndex:"beneficiary"},{title:"Gi\xe1 tr\u1ecb",className:"value",dataIndex:"price"},{title:"Ng\xe0y hi\u1ec7u l\u1ef1c",dataIndex:"startDate"},{title:"S\u1ed1 n\u0103m n\u1ed9p ph\xed",dataIndex:"duration"},{title:"Chu k\xec n\u1ed9p ph\xed",dataIndex:"depositTerm"},{title:"L\u1ea7n cu\u1ed1i n\u1ed9p ph\xed",dataIndex:"lastDepositDate"},{title:"H\u1ea1n n\u1ed9p ph\xed ti\u1ebfp theo",dataIndex:"nextDepositDue"},{title:"",dataIndex:"",width:"118px",render:function(){return(0,q.jsx)("button",{className:"btn_modal_example btn-bgWhite-textGreen-borGreen",children:"B\u1ea3ng minh ho\u1ea1"})}},{title:"",render:function(e){return(0,q.jsx)("img",{className:"edit_icon",src:o.Z,onClick:function(){return z(e)}})}}];(0,r.useEffect)((function(){var t=(M.offset-1)*M.limit;e((0,V.sy)({userSearch:k,limit:M.limit,offset:t}))}),[k]);var z=function(e){N((0,a.Z)({},e)),Z(!0),C("Thay \u0111\u1ed5i n\u1ed9i dung h\u1ee3p \u0111\u1ed3ng")};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{className:"content-box container_contract",children:[(0,q.jsxs)("div",{className:"contract_header",children:[(0,q.jsx)("h3",{children:"Qu\u1ea3n l\xfd h\u1ee3p \u0111\u1ed3ng"}),(0,q.jsxs)("div",{className:"header_right",children:[(0,q.jsx)(u.Z,{setPayload:E}),(0,q.jsxs)(l.Z,{className:"btn-primary",onClick:function(){N({}),Z(!0),C("Th\xeam h\u1ee3p \u0111\u1ed3ng")},children:[(0,q.jsx)("img",{src:c.Z,alt:""}),"Th\xeam h\u1ee3p \u0111\u1ed3ng"]})]})]}),(0,q.jsxs)("div",{className:"contract_list",children:[(0,q.jsx)(d.Z,{dataSource:n,columnTable:_,size:"middle"}),(0,q.jsx)(m.Z,{total:p,pageSize:M.limit,setPaginate:O})]})]}),(0,q.jsx)(h.Z,{isVisible:x,setIsVisible:Z,title:I,width:800,content:(0,q.jsx)(F,{dataEdit:b,setVisibleModal:Z})})]})}}}]);
//# sourceMappingURL=318.b27958f1.chunk.js.map