"use strict";(self.webpackChunkmanulife_js=self.webpackChunkmanulife_js||[]).push([[49],{3346:function(e,n,t){t(2791);n.Z=t.p+"static/media/deleteIcon.ba1f350edb5a078290db6e72ea62551b.svg"},4634:function(e,n,t){t(2791);n.Z=t.p+"static/media/plus.1d74c095c9a38f30393107ba102ce6ee.svg"},6648:function(e,n,t){t.d(n,{Z:function(){return r}});t(2791);var a=t(5796),i=t(2862),s=t(184);function r(e){var n=e.title,t=void 0===n?"X\xe1c nh\u1eadn":n,r=e.content,l=void 0===r?"B\u1ea1n c\xf3 mu\u1ed1n th\u1ef1c hi\u1ec7n thao t\xe1c n\xe0y?":r,c=e.confirmText,o=void 0===c?"X\xe1c nh\u1eadn":c,d=e.cancelText,m=void 0===d?"Hu\u1ef7 b\u1ecf":d,u=e.callApi;i.Z.confirm({title:t,icon:(0,s.jsx)(a.Z,{}),content:l,okText:o,cancelText:m,centered:!0,onOk:function(){u()}})}},8665:function(e,n,t){t.d(n,{Z:function(){return r}});t(2791);var a=t(9221),i=t(9968),s=t(184);function r(e){var n=e.pageSizeOptions,t=void 0===n?i.TJ:n,r=e.pageSize,l=void 0===r?i.Cg:r,c=e.total,o=e.showSizeChanger,d=void 0===o||o,m=e.setPaginate,u=function(e,n){m({limit:n,offset:e})};return c>i.Cg&&(0,s.jsx)(a.Z,{onChange:u,onShowSizeChange:u,defaultPageSize:l,total:c,pageSizeOptions:t,showSizeChanger:d})}},2997:function(e,n,t){t.d(n,{Fw:function(){return h},HT:function(){return u},RL:function(){return m},fm:function(){return p},mK:function(){return o},vk:function(){return d}});var a=t(4506),i=t(2426),s=t.n(i),r=t(9968),l=t(763),c=t.n(l),o=function(e){return e?(new Intl.NumberFormat).format(e):0},d=function(e,n){for(e=e.toString();e.length<n;)e="0"+e;return e},m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s().localeData().longDateFormat("L");return s()(e).local().format(n)},u=function(e){return c().find(r.Rj,(function(n){return n.value===e})).label},h=function(e){var n=s()(e).utc().format("YYYY");return s()().format("YYYY")-n},p=function(e){var n=(0,a.Z)(e),t=n[0],i=n.slice(1),s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.language;return void 0===t?"":t.toLocaleUpperCase(s)+i.join("")}},6787:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var a=t(9439),i=t(3085),s=t(7309),r=t(6106),l=t(914),c=t(7083),o=t(8565),d=t(2426),m=t.n(d),u=t(2791),h=t(9434);t(3346);var p=t.p+"static/media/importIcon.269f0ab4b42ab8373d049b2114160c77.svg",v=t(4634),x=(t(8665),t(6648)),f=t(7908),g=t(9968),y=t(1413),j=t(1095),Z=t(2862),N=t(9389),b=t(1666),I=t(184),k=function(e){var n=e.isModalOpen,t=e.setIsModalOpen,i=(0,h.I0)(),r=j.Z.useForm(),l=(0,a.Z)(r,1)[0],c=(0,h.v9)((function(e){return e.loading.loading}));return(0,I.jsx)("div",{className:"createPayment",children:(0,I.jsx)(Z.Z,{className:"paymentManagement-modal",title:(0,I.jsx)("h3",{children:"Thanh to\xe1n m\u1edbi"}),open:n,footer:!1,keyboard:!1,centered:!0,onCancel:function(){t(!1),l.resetFields()},children:(0,I.jsxs)(j.Z,{name:"nest-messages",onFinish:function(e){var n,a,s=(0,y.Z)((0,y.Z)({},e),{},{startDate:m()(null===(n=e.startDate)||void 0===n?void 0:n._d).format(),dueDate:m()(null===(a=e.dueDate)||void 0===a?void 0:a._d).format(),amount:+e.amount});i((0,f.Ji)(s)),c===g.c9.succeeded&&(t(!1),l.resetFields())},form:l,children:[(0,I.jsx)(j.Z.Item,{name:"loginId",label:"ID Login",rules:[{required:!0}],children:(0,I.jsx)(N.Z,{placeholder:"ID login"})}),(0,I.jsx)(j.Z.Item,{name:"userFullname",label:"H\u1ecd v\xe0 t\xean:",rules:[{required:!0}],children:(0,I.jsx)(N.Z,{placeholder:"Nh\u1eadp"})}),(0,I.jsx)(j.Z.Item,{name:"startDate",label:"Ng\xe0y thanh to\xe1n",rules:[{required:!0,type:"date"}],children:(0,I.jsx)(b.Z,{placeholder:"Ch\u1ecdn ng\xe0y thanh to\xe1n"})}),(0,I.jsx)(j.Z.Item,{name:"dueDate",label:"Ng\xe0y k\u1ebft th\xfac",rules:[{type:"date",required:!0}],children:(0,I.jsx)(b.Z,{placeholder:"Ch\u1ecdn ng\xe0y k\u1ebft th\xfac"})}),(0,I.jsx)(j.Z.Item,{name:"amount",label:"S\u1ed1 ti\u1ec1n",rules:[{required:!0}],children:(0,I.jsx)(N.Z,{})}),(0,I.jsx)(j.Z.Item,{name:"description",label:"N\u1ed9i dung",children:(0,I.jsx)(N.Z.TextArea,{autoSize:!0})}),(0,I.jsx)(j.Z.Item,{children:(0,I.jsx)(s.Z,{type:"primary",htmlType:"submit",children:"Th\xeam m\u1edbi"})})]})})})},S=t(8055),D=t(2997),H=[{title:"Ng\xe0y",dataIndex:"date",key:"date",width:"140px"},{title:"N\u1ed9i dung",dataIndex:"content",key:"content"}],M=function(e){var n=e.customer,t=new Intl.NumberFormat("vi-VN").format(null===n||void 0===n?void 0:n.amount),i=(0,u.useState)(null),s=(0,a.Z)(i,2),r=s[0],l=s[1];return(0,u.useEffect)((function(){var e=[];e.push({date:(0,D.RL)(null===n||void 0===n?void 0:n.dueDate),content:null===n||void 0===n?void 0:n.description}),l(e)}),[n]),(0,I.jsx)("div",{className:"paymentHistory",children:n?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"paymentHistory-customer",children:(0,I.jsxs)("div",{className:"paymentHistory-info",children:[(0,I.jsxs)("div",{className:"paymentHistory-title",children:[(0,I.jsxs)("h4",{children:[null===n||void 0===n?void 0:n.userFullname," "]}),(0,I.jsxs)("p",{children:["S\u1ed1 ti\u1ec1n: ",(0,I.jsx)("span",{children:t})]})]}),(0,I.jsxs)("div",{className:"paymentHistory-time",children:[(0,I.jsxs)("div",{className:"paymentHistory-time_item",children:[(0,I.jsxs)("div",{className:"paymentHistory-time_title",children:[(0,I.jsx)("img",{src:S.Z,alt:""}),(0,I.jsx)("span",{children:"Ng\xe0y thanh to\xe1n"})]}),(0,I.jsx)("div",{className:"paymentHistory-time_date",children:(0,I.jsx)("span",{children:(0,D.RL)(null===n||void 0===n?void 0:n.startDate)})})]}),(0,I.jsxs)("div",{className:"paymentHistory-time_item",children:[(0,I.jsxs)("div",{className:"paymentHistory-time_title",children:[(0,I.jsx)("img",{src:S.Z,alt:""}),(0,I.jsx)("span",{children:"Ng\xe0y hi\u1ec7u l\u1ef1c"})]}),(0,I.jsx)("div",{className:"paymentHistory-time_date",children:(0,I.jsx)("span",{children:(0,D.RL)(null===n||void 0===n?void 0:n.startDate)})})]}),(0,I.jsxs)("div",{className:"paymentHistory-time_item",children:[(0,I.jsxs)("div",{className:"paymentHistory-time_title",children:[(0,I.jsx)("img",{src:S.Z,alt:""}),(0,I.jsx)("span",{children:"Ng\xe0y k\u1ebft th\xfac"})]}),(0,I.jsx)("div",{className:"paymentHistory-time_date",children:(0,I.jsx)("span",{children:(0,D.RL)(null===n||void 0===n?void 0:n.dueDate)})})]})]})]})}),(0,I.jsx)("div",{className:"paymentHistory-group",children:(0,I.jsx)(o.Z,{className:"table-common",size:"middle",dataSource:r,columns:H,pagination:!1,rowKey:"date"})})]}):(0,I.jsx)(I.Fragment,{})})},w=(0,u.memo)(M),C=t(6058),F=function(e){var n=e.title,t=e.search,a=void 0!==t&&t,i=e.setPayload;return(0,I.jsxs)("div",{className:"paymentManagement-header",children:[(0,I.jsx)("div",{className:"paymentManagement-header_title",children:(0,I.jsx)("h3",{children:n})}),a&&(0,I.jsx)("div",{className:"paymentManagement-content_search",children:(0,I.jsx)(C.Z,{setPayload:i})})]})},_=t(2622),z=function(){var e=(0,u.useState)([]),n=(0,a.Z)(e,2),t=n[0],d=n[1],m=(0,u.useState)({}),y=(0,a.Z)(m,2),j=y[0],Z=y[1],N=(0,u.useState)(""),b=(0,a.Z)(N,2),S=b[0],H=b[1],M=(0,u.useState)(null),C=(0,a.Z)(M,2),z=C[0],R=C[1],L=(0,u.useState)(!1),T=(0,a.Z)(L,2),O=T[0],Y=T[1],q=(0,u.useState)(1),P=(0,a.Z)(q,2),A=P[0],K=P[1],X=(0,u.useState)(10),E=(0,a.Z)(X,2),V=E[0],B=E[1],J=(0,h.I0)(),Q=(0,h.v9)((function(e){return e.paymentManagementReducer})),U=(0,h.v9)((function(e){return e.loading.loading})),G=[{title:"H\u1ecd v\xe0 t\xean",dataIndex:"userFullname",key:"userFullname"},{title:"Ng\xe0y thanh to\xe1n",key:"startDate",render:function(e){return(0,I.jsx)("span",{children:(0,D.RL)(e.startDate)})}},{title:"Ng\xe0y hi\u1ec7u l\u1ef1c",key:"startDate",render:function(e){return(0,I.jsx)("span",{children:(0,D.RL)(e.startDate)})}},{title:"Ng\xe0y k\u1ebft th\xfac",key:"dueDate",render:function(e){return(0,I.jsx)("span",{children:(0,D.RL)(e.dueDate)})}},{title:"S\u1ed1 ti\u1ec1n",key:"amount",className:"green-color",render:function(e){var n=new Intl.NumberFormat("vi-VN").format(e.amount);return(0,I.jsx)("span",{children:n})}},{title:"",dataIndex:"",key:"x",render:function(e,n){return(0,I.jsx)(_.Z,{className:"btn-deleteIcon",onClick:function(){return e=n,void(0,x.Z)({content:"X\xe1c nh\u1eadn x\xf3a ".concat(e.userFullname),callApi:function(){J((0,f.bi)({transactionIds:[e.id]})),R(null)}});var e}})}}];return(0,u.useEffect)((function(){var e={q:S,page:A,limit:V};J((0,f.sy)(e))}),[S,A,V,Q.isReload]),(0,I.jsxs)("div",{className:"paymentManagement",children:[(0,I.jsxs)("div",{className:"paymentManagement-nav",children:[(0,I.jsx)("div",{className:"paymentManagement-title",children:(0,I.jsx)("h3",{children:"Qu\u1ea3n l\xfd thanh to\xe1n kh\xe1ch h\xe0ng Manulife"})}),(0,I.jsxs)("div",{className:"paymentManagement-option",children:[(0,I.jsx)(s.Z,{onClick:function(){t.length>0?(0,x.Z)({callApi:function(){J((0,f.bi)({transactionIds:t})),R(null)}}):i.Z.warning({message:"Vui l\xf2ng ch\u1ecdn b\u1ea3n ghi b\u1ea1n c\u1ea7n x\xf3a",duration:2,placement:"topLeft",icon:!1})},children:"X\xf3a"}),(0,I.jsx)(s.Z,{type:"primary",children:(0,I.jsxs)("label",{htmlFor:"import",children:[(0,I.jsx)("img",{src:p,alt:""}),(0,I.jsx)("input",{type:"file",id:"import",style:{display:"none"},onChange:function(e){var n=new FormData;n.append("file",e.target.files[0]),J((0,f.cT)(n))}}),"Import"]})}),(0,I.jsx)(s.Z,{type:"primary",icon:(0,I.jsx)("img",{src:v.Z,alt:""}),onClick:function(){return Y(!O)},children:"Thanh to\xe1n m\u1edbi"})]})]}),(0,I.jsxs)("div",{className:"paymentManagement-container",children:[(0,I.jsxs)(r.Z,{gutter:[15,15],align:"stretch",className:"paymentManagement-row",children:[(0,I.jsx)(l.Z,{span:15,className:"paymentManagement-col",lg:15,md:24,sm:24,xs:24,children:(0,I.jsxs)("div",{className:"paymentManagement-content",children:[(0,I.jsx)(F,{title:"Danh s\xe1ch t\xe0i kho\u1ea3n",search:!0,setPayload:H}),(0,I.jsx)(c.Z,{spinning:U===g.c9.pending,children:(0,I.jsx)(o.Z,{className:"table-common paymentManagement-table",dataSource:Q.data,columns:G,pagination:Q.total>V&&{total:Q.total,onChange:function(e,n){K(e),B(n)},showSizeChanger:!0,className:"payment-pagination"},rowSelection:{selectedRowKeys:t,onChange:function(e){d(e)}},rowClassName:function(e){return j===e.id?"active":""},onRow:function(e){return{onClick:function(){Z(e.id),R(e)}}},rowKey:"id",size:"middle",bordered:!1})})]})}),(0,I.jsx)(l.Z,{span:9,className:"paymentManagement-col",lg:9,md:24,sm:24,xs:24,children:(0,I.jsxs)("div",{className:"paymentManagement-content",children:[(0,I.jsx)(F,{title:"L\u1ecbch s\u1eed thanh to\xe1n"}),(0,I.jsx)(w,{customer:z})]})})]}),(0,I.jsx)(k,{users:Q.data,isModalOpen:O,setIsModalOpen:Y})]})]})}},2622:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(1413),i=t(2791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},r=t(4291),l=function(e,n){return i.createElement(r.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:s}))};l.displayName="DeleteOutlined";var c=i.forwardRef(l)}}]);
//# sourceMappingURL=49.5917c52e.chunk.js.map